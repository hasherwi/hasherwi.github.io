<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>{{ page.title | default: site.title }}</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        {% if site.description %}<meta name="description" content="{{ site.description }}">{% endif %}

        <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
    </head>
    <body>
        <div class="layout">
            <aside class="sidebar">
                <header class="site-header">
                    <h1 class="site-title"><a href="{{ '/' | relative_url }}">{{ site.title }}</a></h1>
                    {% if site.description %}
                    <p class="site-description">{{ site.description }}</p>
                    {% endif %}
                </header>

                <nav class="toc" aria-label="Table of contents">
                    <h2 class="toc-title">Contents</h2>
                    <ul id="toc-list"></ul>
                </nav>

                <nav class="social">
                    <h2 class="links-title">Links</h2>
                    <ul>
                        <li>
                            <a href="https://linkedin.com/in/hsherwin/" target="_blank" rel="noopener">
                                <svg viewBox="0 0 24 24" class="icon">
                                    <path d="M19 0h-14C2.2 0 0 2.2 0 5v14c0 2.8 2.2 5 5 5h14c2.8 0 5-2.2 5-5V5c0-2.8-2.2-5-5-5zM7.1 20.4H3.6V9h3.5v11.4zM5.3 7.5C4 7.5 3 6.5 3 5.3s1-2.2 2.3-2.2 2.3 1 2.3 2.2c0 1.2-1 2.2-2.3 2.2zM20.4 20.4h-3.5v-5.6c0-1.3 0-3-1.8-3s-2.1 1.4-2.1 2.9v5.7h-3.5V9h3.3v1.6h.1c.5-1 1.8-2.1 3.8-2.1 4.1 0 4.8 2.7 4.8 6.1v5.8z"/>
                                </svg>
                                LinkedIn
                            </a>
                        </li>
                        <li>
                            <a href="https://github.com/hsherwin" target="_blank" rel="noopener">
                                <svg viewBox="0 0 24 24" class="icon">
                                    <path d="M12 .5a12 12 0 00-3.8 23.4c.6.1.8-.3.8-.6v-2.2c-3.3.7-4-1.6-4-1.6-.5-1.3-1.2-1.6-1.2-1.6-1-.7.1-.7.1-.7 1.1.1 1.6 1.2 1.6 1.2 1 1.6 2.7 1.1 3.4.9.1-.7.4-1.1.7-1.3-2.6-.3-5.4-1.3-5.4-5.8 0-1.3.5-2.3 1.2-3.1-.1-.3-.5-1.5.1-3.1 0 0 1-.3 3.3 1.2a11.4 11.4 0 016 0C16.5 7.4 17.5 7.7 17.5 7.7c.6 1.6.2 2.8.1 3.1.7.8 1.2 1.8 1.2 3.1 0 4.5-2.8 5.5-5.4 5.8.4.3.8 1 .8 2v3c0 .3.2.7.8.6A12 12 0 0012 .5z"/>
                                </svg>
                                GitHub
                            </a>
                        </li>
                        <li>
                            <a href="https://credly.com/users/harrison-sherwin" target="_blank" rel="noopener">
                                <svg viewBox="0 0 24 24" class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                    <path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM16.88 13.52c-.53-.37-1.25-.24-1.63.29-1.6 2.21-3.91 4.15-7.18 4.15-2.82 0-3.46-5.87-1.5-9.69 1.21-2.34 2.91-4.27 4.39-4.27 1.04 0 1.63.94 1.35 1.95-.35 1.22-.38 2.04-.38 2.11-.03.72.54 1.34 1.28 1.36h.05c.71 0 1.29-.56 1.31-1.27 0-.02.14-2.49 2.09-5.09.48-.63.29-1.56-.43-1.96-.58-.31-1.32-.1-1.72.43-.11.15-.22.29-.32.45-.11.15-.3.21-.46.13-5.78-2.61-9.07 2.89-10.16 5.41-2.25 5.25-2.25 13.5 4.23 13.5 5.43 0 8-3.56 9.48-5.84.35-.53.21-1.24-.32-1.59z"/>
                                </svg>
                                Credly
                            </a>
                        </li>
                    </ul>
                </nav>
            </aside>

            <main class="content">
                {{ content }}
            </main>
        </div>

        <script>
            (function () {
                const content = document.querySelector('.content');
                const tocList = document.getElementById('toc-list');
                if (!content || !tocList) return;

                // Grab H2s only
                const headings = Array.from(content.querySelectorAll('h2'));
                if (!headings.length) { tocList.remove(); return; }

                // Slugify helper
                const slugify = (str) =>
                    str.toLowerCase()
                        .trim()
                        .replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g, '')
                        .replace(/\s+/g, '-');

                const used = new Set();

                headings.forEach(h => {
                    // Ensure an id exists
                    let base = slugify(h.textContent);
                    let id = base;
                    let i = 2;
                    while (!id || used.has(id) || document.getElementById(id)) {
                        id = `${base}-${i++}`;
                    }
                    used.add(id);
                    h.id ||= id;

                    // Add to TOC
                    const li = document.createElement('li');
                    const a = document.createElement('a');
                    a.href = `#${h.id}`;
                    a.textContent = h.textContent;
                    li.appendChild(a);
                    tocList.appendChild(li);
                });
            })();
        </script>
    </body>
</html>
